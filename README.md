# Tree-sitter å‡½æ•°å¤§çº² VSCode æ‰©å±•

è¿™æ˜¯ä¸€ä¸ªåŸºäº **web-tree-sitter** çš„ VSCode æ‰©å±•ï¼Œå¯ä»¥åœ¨ç‹¬ç«‹çš„ä¾§è¾¹æ ä¸­æ˜¾ç¤ºå‡½æ•°å¤§çº²å’Œä¸­æ–‡æ³¨é‡Šï¼Œæ”¯æŒ Pythonã€JavaScriptã€TypeScriptã€C# ç­‰ç¼–ç¨‹è¯­è¨€ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- ğŸ **Python æ”¯æŒ**: è¯†åˆ« `def` å®šä¹‰çš„å‡½æ•°å’Œç±»å®šä¹‰
- ğŸ”· **JavaScript/TypeScript æ”¯æŒ**: è¯†åˆ«å‡½æ•°å£°æ˜ã€æ–¹æ³•å®šä¹‰ã€ç®­å¤´å‡½æ•°ç­‰
- ğŸ’ **C# æ”¯æŒ**: è¯†åˆ«æ–¹æ³•å£°æ˜ã€æ„é€ å‡½æ•°ã€ç±»å£°æ˜ç­‰
- ğŸ’¬ **æ™ºèƒ½æ³¨é‡Šè¯†åˆ«**: è‡ªåŠ¨æå–å‡½æ•°å‰çš„æ³¨é‡Šä½œä¸ºæè¿°
- ğŸ“ **è·³è½¬åŠŸèƒ½**: ç‚¹å‡»å¤§çº²é¡¹å¯è·³è½¬åˆ°å¯¹åº”ä»£ç ä½ç½®
- ğŸ”„ **å®æ—¶æ›´æ–°**: ä»£ç ä¿®æ”¹åå¤§çº²è‡ªåŠ¨åˆ·æ–°
- ğŸ¨ **ç¾è§‚å›¾æ ‡**: ä¸åŒç±»å‹å‡½æ•°æ˜¾ç¤ºä¸åŒå›¾æ ‡
- ğŸ“± **ç‹¬ç«‹ç•Œé¢**: åœ¨å·¦ä¾§æ´»åŠ¨æ æœ‰ç‹¬ç«‹çš„å›¾æ ‡ï¼Œä¸å ç”¨å¤§çº²ç©ºé—´

## ğŸ¯ æ”¯æŒçš„è¯­è¨€

### Python
- å‡½æ•°å®šä¹‰ (`def`)
- ç±»å®šä¹‰ (`class`)
- æ”¯æŒ `#` å¼€å¤´çš„å•è¡Œæ³¨é‡Š

### JavaScript/TypeScript
- å‡½æ•°å£°æ˜ (`function`)
- æ–¹æ³•å®šä¹‰ (`method`)
- ç®­å¤´å‡½æ•° (`=>`)
- æ”¯æŒ `//` å’Œ `/* */` æ³¨é‡Š

### C#
- æ–¹æ³•å£°æ˜ (`method`)
- æ„é€ å‡½æ•° (`constructor`)
- ç±»å£°æ˜ (`class`)
- æ”¯æŒ XML æ–‡æ¡£æ³¨é‡Š (`///`)

## ğŸ“¦ å®‰è£…æ–¹æ³•

### ä»æºç å®‰è£…

1. å…‹éš†ä»“åº“ï¼š
```bash
git clone <repository-url>
cd vscode-tree-sitter
```

2. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

3. ç¼–è¯‘æ‰©å±•ï¼š
```bash
npm run compile
```

4. åœ¨ VSCode ä¸­æŒ‰ `F5` å¯åŠ¨è°ƒè¯•æ¨¡å¼ï¼Œæˆ–ä½¿ç”¨ `Ctrl+Shift+P` è¿è¡Œ "Developer: Reload Window"

### æ‰“åŒ…å®‰è£…

1. å®‰è£… vsceï¼š
```bash
npm install -g vsce
```

2. æ‰“åŒ…æ‰©å±•ï¼š
```bash
vsce package
```

3. åœ¨ VSCode ä¸­å®‰è£…ç”Ÿæˆçš„ `.vsix` æ–‡ä»¶

## ğŸ® ä½¿ç”¨æ–¹æ³•

1. æ‰“å¼€æ”¯æŒçš„è¯­è¨€æ–‡ä»¶ï¼ˆPythonã€JavaScriptã€TypeScriptã€C#ï¼‰
2. åœ¨å·¦ä¾§æ´»åŠ¨æ ä¸­æ‰¾åˆ° "å‡½æ•°å¤§çº²" å›¾æ ‡ï¼ˆğŸ“‹ï¼‰
3. ç‚¹å‡»æ‰“å¼€å‡½æ•°å¤§çº²è§†å›¾
4. å¤§çº²å°†æ˜¾ç¤ºæ‰€æœ‰å‡½æ•°ã€æ–¹æ³•å’Œç±»ï¼ŒåŒ…å«æ³¨é‡Šæè¿°
5. ç‚¹å‡»ä»»æ„å‡½æ•°é¡¹å¯è·³è½¬åˆ°å¯¹åº”ä»£ç ä½ç½®
6. ä½¿ç”¨åˆ·æ–°æŒ‰é’®æ‰‹åŠ¨æ›´æ–°å¤§çº²

## ğŸ”§ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯
- **web-tree-sitter**: ä½¿ç”¨ WebAssembly ç‰ˆæœ¬çš„ Tree-sitter è¿›è¡Œè¯­æ³•è§£æ
- **åŠ¨æ€åŠ è½½**: æŒ‰éœ€åŠ è½½ä¸åŒè¯­è¨€çš„è¯­æ³•æ–‡ä»¶
- **å®æ—¶è§£æ**: ç›‘å¬æ–‡æ¡£å˜åŒ–ï¼Œè‡ªåŠ¨æ›´æ–°å‡½æ•°å¤§çº²

### é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ extension.ts              # æ‰©å±•å…¥å£ç‚¹
â”œâ”€â”€ treeSitterOutlineProvider.ts  # å‡½æ•°å¤§çº²æä¾›è€…
â”œâ”€â”€ outlineItem.ts           # å¤§çº²é¡¹å®šä¹‰
â””â”€â”€ types/                   # ç±»å‹å®šä¹‰
    â””â”€â”€ web-tree-sitter.d.ts # web-tree-sitter ç±»å‹å£°æ˜
```

### æ„å»ºå‘½ä»¤
- `npm run compile`: ç¼–è¯‘ TypeScript ä»£ç 
- `npm run watch`: ç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶è‡ªåŠ¨ç¼–è¯‘
- `npm run lint`: è¿è¡Œä»£ç æ£€æŸ¥

## ğŸ“‹ ç¤ºä¾‹

### Python ç¤ºä¾‹
```python
# è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ
def calculate_sum(a, b):
    return a + b

class Calculator:
    def __init__(self):
        # åˆå§‹åŒ–è®¡ç®—å™¨
        self.result = 0
```

### JavaScript ç¤ºä¾‹
```javascript
// è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ
function calculateSum(a, b) {
    return a + b;
}

class Calculator {
    constructor() {
        // åˆå§‹åŒ–è®¡ç®—å™¨
        this.result = 0;
    }
}
```

### C# ç¤ºä¾‹
```csharp
/// <summary>
/// è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ
/// </summary>
public static int CalculateSum(int a, int b)
{
    return a + b;
}

public class Calculator
{
    public Calculator()
    {
        // åˆå§‹åŒ–è®¡ç®—å™¨
        Result = 0;
    }
}
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‰©å±•æ— æ³•æ¿€æ´»**
   - æ£€æŸ¥ VSCode ç‰ˆæœ¬æ˜¯å¦æ”¯æŒï¼ˆéœ€è¦ 1.74.0 æˆ–æ›´é«˜ï¼‰
   - æŸ¥çœ‹å¼€å‘è€…æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

2. **å‡½æ•°å¤§çº²ä¸æ˜¾ç¤º**
   - ç¡®ä¿æ–‡ä»¶è¯­è¨€è¢«æ­£ç¡®è¯†åˆ«
   - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦åŒ…å«å‡½æ•°å®šä¹‰
   - å°è¯•æ‰‹åŠ¨åˆ·æ–°å¤§çº²

3. **è·³è½¬åŠŸèƒ½ä¸å·¥ä½œ**
   - ç¡®ä¿æ–‡ä»¶å·²ä¿å­˜
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®

### è°ƒè¯•æ¨¡å¼
åœ¨è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œæ‰©å±•ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
- Tree-sitter åˆå§‹åŒ–è¿‡ç¨‹
- è¯­æ³•æ–‡ä»¶åŠ è½½çŠ¶æ€
- å‡½æ•°è§£æç»“æœ
- é”™è¯¯ä¿¡æ¯

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æŒ‡å—
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [Tree-sitter](https://tree-sitter.github.io/tree-sitter/) - å¼ºå¤§çš„è¯­æ³•è§£æå·¥å…·
- [web-tree-sitter](https://github.com/tree-sitter/tree-sitter/tree/master/lib/binding_web) - WebAssembly ç‰ˆæœ¬çš„ Tree-sitter
- [VSCode](https://code.visualstudio.com/) - ä¼˜ç§€çš„ä»£ç ç¼–è¾‘å™¨ 